<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 3D 우주선 조종 게임</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- 게임 로딩 화면 -->
    <div id="loadingScreen">
        <div class="loading-content">
            <h1>🚀 3D 우주선 조종 게임</h1>
            <div class="loading-spinner"></div>
            <p>게임 로딩 중...</p>
            <div class="loading-progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>
    </div>

    <!-- 메인 메뉴 -->
    <div id="mainMenu" style="display: none;">
        <div class="menu-content">
            <h1>🚀 SPACE PILOT</h1>
            <div class="menu-buttons">
                <button id="startGameBtn" class="menu-btn">게임 시작</button>
                <button id="instructionsBtn" class="menu-btn">조작법</button>
                <button id="settingsBtn" class="menu-btn">설정</button>
            </div>
            <div class="connection-status">
                <span id="connectionIndicator">📡 센서 연결 대기중...</span>
            </div>
        </div>
    </div>

    <!-- 조작법 화면 -->
    <div id="instructionsScreen" style="display: none;">
        <div class="instructions-content">
            <h2>🎮 조작법</h2>
            <div class="instruction-item">
                <span class="sensor-icon">🔄</span>
                <div>
                    <strong>자이로스코프</strong><br>
                    휴대폰을 기울여서 우주선을 회전시키세요
                </div>
            </div>
            <div class="instruction-item">
                <span class="sensor-icon">⚡</span>
                <div>
                    <strong>가속도계</strong><br>
                    휴대폰을 앞뒤로 기울여서 추진력을 조절하세요
                </div>
            </div>
            <div class="instruction-item">
                <span class="sensor-icon">🧭</span>
                <div>
                    <strong>방향 센서</strong><br>
                    정밀한 방향 조정이 가능합니다
                </div>
            </div>
            <button id="backToMenuBtn" class="menu-btn">메뉴로 돌아가기</button>
        </div>
    </div>

    <!-- 게임 화면 -->
    <div id="gameContainer" style="display: none;">
        <!-- Three.js 캔버스가 여기에 추가됩니다 -->
        
        <!-- 게임 UI 오버레이 -->
        <div id="gameUI">
            <div class="ui-top">
                <div class="score-display">
                    <span>점수: <span id="scoreValue">0</span></span>
                </div>
                <div class="lives-display">
                    <span>생명: <span id="livesValue">3</span></span>
                </div>
                <div class="fuel-display">
                    <span>연료: </span>
                    <div class="fuel-bar">
                        <div class="fuel-fill" id="fuelFill"></div>
                    </div>
                </div>
            </div>
            
            <div class="ui-bottom">
                <div class="sensor-display">
                    <div class="sensor-group">
                        <span class="sensor-label">자이로</span>
                        <div class="sensor-values">
                            <span id="gyroX">0</span>
                            <span id="gyroY">0</span>
                            <span id="gyroZ">0</span>
                        </div>
                    </div>
                    <div class="sensor-group">
                        <span class="sensor-label">가속도</span>
                        <div class="sensor-values">
                            <span id="accelX">0</span>
                            <span id="accelY">0</span>
                            <span id="accelZ">0</span>
                        </div>
                    </div>
                </div>
                
                <button id="pauseBtn" class="control-btn">⏸️</button>
                <button id="exitBtn" class="control-btn">🚪</button>
            </div>
        </div>
    </div>

    <!-- 일시정지 메뉴 -->
    <div id="pauseMenu" style="display: none;">
        <div class="pause-content">
            <h2>⏸️ 게임 일시정지</h2>
            <div class="menu-buttons">
                <button id="resumeBtn" class="menu-btn">계속하기</button>
                <button id="restartBtn" class="menu-btn">다시 시작</button>
                <button id="mainMenuBtn" class="menu-btn">메인 메뉴</button>
            </div>
        </div>
    </div>

    <!-- 게임 오버 화면 -->
    <div id="gameOverScreen" style="display: none;">
        <div class="gameover-content">
            <h2>🚀 게임 오버</h2>
            <div class="final-score">
                <p>최종 점수: <span id="finalScore">0</span></p>
                <p>최고 기록: <span id="highScore">0</span></p>
            </div>
            <div class="menu-buttons">
                <button id="playAgainBtn" class="menu-btn">다시 플레이</button>
                <button id="backToMainBtn" class="menu-btn">메인 메뉴</button>
            </div>
        </div>
    </div>

    <!-- Three.js 라이브러리 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- 게임 스크립트 -->
    <script src="js/sensorManager.js"></script>
    <script src="js/gameEngine.js"></script>
    <script src="js/spaceship.js"></script>
    <script src="js/asteroid.js"></script>
    <script src="js/gameLogic.js"></script>
    <script src="js/main.js"></script>
</body>
</html>